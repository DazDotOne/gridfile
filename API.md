<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [GridFile][1]
-   [GridFile#length][2]
-   [GridFile#chunkSize][3]
-   [GridFile#uploadDate][4]
-   [GridFile#md5][5]
-   [GridFile#filename][6]
-   [GridFile#contentType][7]
-   [GridFile#metadata][8]
-   [GridFile#aliases][9]
-   [GridFile#createdAt][10]
-   [GridFile#chunkSizeBytes][11]
-   [GridFile.getBucket][12]
    -   [Examples][13]
-   [GridFile#getUploadStream][14]
    -   [Examples][15]
-   [GridFile#getDownloadStream][16]
    -   [Examples][17]
-   [GridFile#uploadStream][18]
    -   [Parameters][19]
    -   [Examples][20]
-   [GridFile#downloadStream][21]
    -   [Parameters][22]
    -   [Examples][23]
-   [GridFile#upload][24]
    -   [Parameters][25]
    -   [Examples][26]
-   [GridFile#download][27]
    -   [Parameters][28]
    -   [Examples][29]

## GridFile

Mongoose schema for MongoDB GridFS

```javascript
const mongoose = require('mongoose')
const schema = require('gridfile')

const GridFile = mongoose.model('GridFile', schema)

const gridFile = new GridFile()
```

## GridFile#length

Type: [Number][30]

## GridFile#chunkSize

Type: [Number][30]

## GridFile#uploadDate

Type: [Date][31]

## GridFile#md5

Type: [String][32]

## GridFile#filename

MD5 hash is auto genarated when file is uploaded

Type: [String][32]

## GridFile#contentType

Value is be used as `contentType` option when opening an upload stream: [GridFSBucket#openUploadStream][33]

Type: [String][32]

## GridFile#metadata

Value is be used as `metadata` option when opening an upload stream: [GridFSBucket#openUploadStream][33]

Type: Any

## GridFile#aliases

Value is be used as `aliases` option when opening an upload stream: [GridFSBucket#openUploadStream][33]

Type: \[[String][32]]

## GridFile#createdAt

Alias for GridFile#uploadDate

Type: [Date][31]

## GridFile#chunkSizeBytes

Value is be used as `chunkSizeBytes` option when opening an upload stream: [GridFSBucket#openUploadStream][33]

Type: [Number][30]

## GridFile.getBucket

Get the GridFS bucket created from the Mongoose connection

Type: [Function][34]

### Examples

```javascript
const bucket = GridFile.getBucket()
```

Returns **GridFSBucket** GridFS Bucket

## GridFile#getUploadStream

Get a GridFS stream to upload a file

Type: [Function][34]

### Examples

```javascript
const uploadStream = gridFile.getUploadStream()
```

Returns **GridFSBucketWriteStream** Upload Stream

## GridFile#getDownloadStream

Get a GridFS stream to download a file

Type: [Function][34]

### Examples

```javascript
const downloadStream = gridFile.getDownloadStream()
```

Returns **GridFSBucketReadStream** Download Stream

## GridFile#uploadStream

Upload a file to GridFS

Type: [Function][34]

### Parameters

-   `FileStream` **[Stream][35]** Read stream of file to upload

### Examples

```javascript
const fs = require('fs')

const fileStream = fs.createReadStream('/path/to/file')
const uploadStream = gridFile.uploadStream(fileStream)

uploadStream.on('finish', (file) => {
 console.log(file)
})
```

Returns **GridFSBucketWriteStream** Upload Stream

## GridFile#downloadStream

Dowload a file from GridFS

Type: [Function][34]

### Parameters

-   `FileStream` **[Stream][35]** Write stream of file to download into

### Examples

```javascript
const fs = require('fs')

const fileStream = fs.createWriteStream('/path/to/file')
const DownloadStream = gridFile.downloadStream(fileStream)

fileStream.on('finish', () => {
 console.log('File downloaded successfully')
})
```

Returns **GridFSBucketWriteStream** Download Stream

## GridFile#upload

Upload a file to GridFS

Type: [Function][34]

### Parameters

-   `FileStream` **[Stream][35]** Read stream of file to upload
-   `Callback` **[Function][34]** Callback function

### Examples

```javascript
const fs = require('fs')

const fileStream = fs.createReadStream('/path/to/file')
const uploadedFile = await gridFile.upload(fileStream)
```

```javascript
// callback
gridFile.upload(filestream, (err, uploadedFile) => {
 if(err){
   console.error(err)
 } else {
   console.log(uploadedFile)
 }
})
```

Returns **[Promise][36]&lt;[GridFile][37]>** GridFile as a Promise

## GridFile#download

Dowload a file from GridFS

Type: [Function][34]

### Parameters

-   `FileStream` **[Stream][35]** Write stream of file to download into
-   `Callback` **[Function][34]** Callback function

### Examples

```javascript
const fs = require('fs')

const fileStream = fs.createWriteStream('/path/to/file')
await gridFile.download(fileStream)
```

```javascript
// callback
gridFile.download(fileStream, (err){
 if(err){
   console.error(err)
 } else {
   console.log('File downloaded successfully')
 }
})
```

Returns **[Promise][36]&lt;Void>** Promise

[1]: #gridfile

[2]: #gridfilelength

[3]: #gridfilechunksize

[4]: #gridfileuploaddate

[5]: #gridfilemd5

[6]: #gridfilefilename

[7]: #gridfilecontenttype

[8]: #gridfilemetadata

[9]: #gridfilealiases

[10]: #gridfilecreatedat

[11]: #gridfilechunksizebytes

[12]: #gridfilegetbucket

[13]: #examples

[14]: #gridfilegetuploadstream

[15]: #examples-1

[16]: #gridfilegetdownloadstream

[17]: #examples-2

[18]: #gridfileuploadstream

[19]: #parameters

[20]: #examples-3

[21]: #gridfiledownloadstream

[22]: #parameters-1

[23]: #examples-4

[24]: #gridfileupload

[25]: #parameters-2

[26]: #examples-5

[27]: #gridfiledownload

[28]: #parameters-3

[29]: #examples-6

[30]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[31]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[32]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[33]: https://mongodb.github.io/node-mongodb-native/3.6/api/GridFSBucket.html#openUploadStream

[34]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[35]: https://nodejs.org/api/stream.html

[36]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[37]: #gridfile
